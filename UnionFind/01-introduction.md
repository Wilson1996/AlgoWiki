# 并查集

作者：OneDirection 审核：liweiwei1419；zerotrac。

并查集（Disjoint set，Union-Find）是一种用来管理元素分组情况的数据结构。并查集的一种高效实现是：**使用树的根节点「代表」一个集合**，同一棵树上的所有节点属于一个集合。只要两个元素的根节点相同，就视为属于同一个集合。使用树的根节点代表一个集合的方法，称之为「代表元」法。

- **初始化（Init）**：将每个元素所在集合初始化为其自身。

- **合并（Union）**：将两个元素所属的集合合并为一个集合。
- **查找（Find）**：查找元素所在的集合，即根节点。

# 应用

- 最小生成树：Kruskal 算法

- 图的连通分量

- 静态连通性

- 动态连通性：判断图的最早连通时间

# 局限

- 不支持拆分（split）操作：任何节点一旦成为其他节点的子节点后，将永远不可能再成为树根。

- 集合必须是不相交的（disjoint）：同一个元素不能属于多个集合。

- 代表元不记录集合成员信息：

  - 父节点不记录子节点的信息。

  - 查找图中某节点所在的连通分量的所有节点需要再次扫描或者维护额外信息。

# 模板

本章节提供了三个模板：

1. 模板一：实现并查集的基本功能。
2. 模板二：实现「路径压缩」优化的并查集。
3. 模板三：实现「路径压缩」与「按秩合并」优化的并查集。

模板一的实现仅仅能够完成任务，但是效率较低。在真正应用并查集的时候，需要使用一些优化操作：「路径压缩」和「按秩合并」。两者可以同时使用，一般使用其一就能够保证不错的时间效率。